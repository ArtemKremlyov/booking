(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{355:function(t,e,i){},362:function(t,e,i){"use strict";var s=i(355);i.n(s).a},366:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main",class:{searching:t.isSearch,selected:t.isSelected,favorite:t.favoriteMode}},[i("div",{staticClass:"main__left"},[t.isSelected?i("div",{staticClass:"main__main"},[i("fullDesc",{attrs:{searchResults:t.searchResults,nextInfo:t.nextInfo},on:{return:function(e){return t.cancelledTarget()},toFavorites:function(e){return t.selectFavorit()}}})],1):i("div",{staticClass:"main__main"},[t.favoriteMode?t._e():i("div",{staticClass:"main__right-search mobile"},[i("form",{staticClass:"toolbar",attrs:{id:"book-search"},on:{submit:function(e){return e.preventDefault(),t.search("1")}}},[i("button",{staticClass:"toolbar__favorites",on:{click:function(e){return e.preventDefault(),t.selectFavorit(e)}}},[i("div",{staticClass:"toolbar__favorites-icon"}),i("div",{staticClass:"dropdown"},[t._v("Избранное")])]),i("div",{staticClass:"toolbar__search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"toolbar__search-input",attrs:{type:"text",placeholder:"Поиск"},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._m(0)])])]),i("div",{staticClass:"main__left-pic"}),i("div",{staticClass:"main__left-title"},[t._v("Библиотека")])])]),i("div",{staticClass:"main__right"},[t.favoriteMode?i("div",{staticClass:"main__right-favorite"},[i("favorite",{on:{cancelledMode:function(e){return t.cancellFavorit()}}})],1):i("div",{staticClass:"main__right-search"},[i("form",{staticClass:"toolbar",attrs:{id:"book-search"},on:{submit:function(e){return e.preventDefault(),t.search(1)}}},[i("button",{staticClass:"toolbar__favorites",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.selectFavorit(e)}}},[i("div",{staticClass:"toolbar__favorites-icon"}),i("div",{staticClass:"dropdown"},[t._v("Избранное")])]),i("div",{staticClass:"toolbar__search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"toolbar__search-input",attrs:{type:"text",placeholder:"Поиск",autocomplete:"yes"},domProps:{value:t.searchTerm},on:{input:[function(e){e.target.composing||(t.searchTerm=e.target.value)},function(e){return t.switchButton("search")}]}}),t.isWriting?i("button",{staticClass:"toolbar__search-button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.switchButton("clear")}}},[i("div",{staticClass:"toolbar__search-icon clear"})]):i("button",{staticClass:"toolbar__search-button",class:{writing:t.isWriting},attrs:{type:"submit"}},[i("div",{staticClass:"toolbar__search-icon"})])])]),i("ul",{staticClass:"main__list"},[t._l(t.searchResults.items,(function(e,s){return i("li",{key:s,staticClass:"main__item",class:{selected:t.isSelected===s},on:{click:function(e){return t.selectTarget(s,t.searchResults.items[s])}}},[i("div",{staticClass:"main__item-content"},[i("div",{staticClass:"main__item-img"},[i("img",{attrs:{src:"http://books.google.com/books/content?id="+e.id+"&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"}})]),i("div",{staticClass:"main__item-info"},[t._m(1,!0),i("div",{staticClass:"main__item-title"},[t._v(t._s(e.volumeInfo.title))]),i("div",{staticClass:"main__item-desc"},[t._v(t._s(e.volumeInfo.description))])])]),i("hr",{staticClass:"main__item-devider"})])})),i("div",{staticClass:"pagination",class:{disabled:t.paginationDisabled}},[i("ul",{staticClass:"pagination__list"},[i("button",{staticClass:"pagination__item prev",class:{disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.search(t.currentIndex-=t.perPage)}}},[t._v("«")]),i("button",{staticClass:"pagination__item next",on:{click:function(e){return e.preventDefault(),t.search(t.currentIndex+=t.perPage)}}},[t._v("»  ")])])])],2)])])])};s._withStripped=!0;var a=i(324),n=i.n(a);i(328),i(326),i(359);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={data:function(){return{searchTerm:"",searchResults:[],isSelected:!1,perPage:4,pagination:{},nextInfo:{},favoriteMode:!1,isSearch:!1,currentIndex:0,totalPage:0,paginationDisabled:!0,disabled:!1,isWriting:!1}},components:{fullDesc:function(){return i.e(4).then(i.bind(null,367))},favorite:function(){return i.e(3).then(i.bind(null,368))}},methods:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(i,!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},i(126).b.ADD_FAVORITES,{search:function(t){var e=this;t>0?n.a.get("https://www.googleapis.com/books/v1/volumes?q= "+this.searchTerm+"&printType=all&projection=full&maxResults=4"+"&startIndex=".concat(t)).then((function(t){e.searchResults=t.data,e.totalPage=Math.ceil(e.searchResults.totalItems/e.perPage),e.disabled=!1,e.paginationDisabled=!1,e.isSearch=!0,e.isWriting=!0})).catch((function(t){console.log(t)})):(this.disabled=!0,this.currentIndex=1)},selectTarget:function(t,e){this.isSelected=t,this.isSelected=!0,this.nextInfo=e},selectFavorit:function(){this.favoriteMode=!0},cancellFavorit:function(){this.favoriteMode=!1},cancelledTarget:function(){this.isSelected=!1},switchButton:function(t){"clear"===t?(this.searchTerm="",this.isWriting=!1):"search"===t&&(this.isWriting=!1)}})},l=(i(362),i(323)),u=Object(l.a)(c,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"toolbar__search-button",attrs:{type:"submit"}},[e("div",{staticClass:"toolbar__search-icon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"description__info-rating"},[e("div",{staticClass:"description__info-stars"},[e("ul",{staticClass:"description__info-list"},[e("li",{staticClass:"description__info-item"}),e("li",{staticClass:"description__info-item"}),e("li",{staticClass:"description__info-item"}),e("li",{staticClass:"description__info-item"}),e("li",{staticClass:"description__info-item"})])])])}],!1,null,null,null);u.options.__file="src/admin/components/main-app.vue";e.default=u.exports}}]);