(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{353:function(t,s,i){},358:function(t,s,i){"use strict";var e=i(353);i.n(e).a},360:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"main"},[i("div",{staticClass:"main__left"},[t.isSelected?i("div",{staticClass:"main__main"},[i("fullDesc",{attrs:{searchResults:t.searchResults,nextInfo:t.nextInfo}})],1):i("div",{staticClass:"main__main"},[i("div",{staticClass:"main__left-pic"}),i("div",{staticClass:"main__left-title"},[t._v("Библиотека")])])]),i("div",{staticClass:"main__right"},[i("form",{staticClass:"toolbar",attrs:{id:"book-search"},on:{submit:function(s){return s.preventDefault(),t.search(s)}}},[t._m(0),i("div",{staticClass:"toolbar__search"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"toolbar__search-input",attrs:{type:"text",placeholder:"Поиск"},domProps:{value:t.searchTerm},on:{input:function(s){s.target.composing||(t.searchTerm=s.target.value)}}}),t._m(1)])]),i("ul",{staticClass:"main__list"},[t._l(t.searchResults.items,(function(s,e){return i("li",{key:e,staticClass:"main__item",class:{selected:t.isSelected===e},on:{click:function(s){return t.selectTarget(e,t.searchResults.items[e])}}},[i("div",{staticClass:"main__item-content"},[i("div",{staticClass:"main__item-img"},[i("img",{attrs:{src:"http://books.google.com/books/content?id="+s.id+"&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"}})]),i("div",{staticClass:"main__item-info"},[t._m(2,!0),i("div",{staticClass:"main__item-title"},[t._v(t._s(s.volumeInfo.title))]),i("div",{staticClass:"main__item-desc"},[t._v(t._s(s.volumeInfo.description))])])])])})),i("hr",{staticClass:"main__item-devider"}),i("div",{staticClass:"pagination"},[i("ul",{staticClass:"pagination__list"},[i("li",{staticClass:"pagination__item prev"},[t._v("«")]),t._l(t.pagination.pages,(function(s){return i("li",{staticClass:"pagination__item",on:{click:function(i){return i.preventDefault(),t.setPage(s)}}})})),i("li",{staticClass:"pagination__item next"},[t._v("»              ")])],2)])],2)])])};e._withStripped=!0;var a=i(322),n=i.n(a),c=(i(342),i(355),{data:function(){return{searchTerm:"",searchResults:[],isSelected:!1,perPage:4,pagination:{},nextInfo:{}}},components:{fullDesc:function(){return i.e(3).then(i.bind(null,361))}},methods:{search:function(){var t=this;n.a.get("https://www.googleapis.com/books/v1/volumes?q="+this.searchTerm).then((function(s){return t.searchResults=s.data,console.log(t.searchResults),t.paginate(t.searchResults)})).catch((function(t){console.log(t)}))},selectTarget:function(t,s){this.isSelected=t,this.isSelected=!0,this.nextInfo=s,console.log(this.nextInfo)},setPage:function(t){this.pagination=this.paginator(this.searchResults.length,t)},paginate:function(t){return _.slice(t,this.pagination.startIndex,this.pagination.endIndex+1)},paginator:function(t,s){var i=(s-1)*this.perPage;return{currentPage:s,startIndex:i,endIndex:Math.min(i+this.perPage-1,t-1),pages:_.range(1,Math.ceil(t/this.perPage)+1)}}},created:function(){this.setPage(1)},computed:{collection:function(){return this.paginate(this.searchResults)}}}),o=(i(358),i(323)),r=Object(o.a)(c,e,[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"toolbar__favorites"},[s("div",{staticClass:"toolbar__favorites-icon"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"toolbar__search-button",attrs:{type:"submit"}},[s("div",{staticClass:"toolbar__search-icon"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"description__info-rating"},[s("div",{staticClass:"description__info-stars"},[s("ul",{staticClass:"description__info-list"},[s("li",{staticClass:"description__info-item"}),s("li",{staticClass:"description__info-item"}),s("li",{staticClass:"description__info-item"}),s("li",{staticClass:"description__info-item"}),s("li",{staticClass:"description__info-item"})])])])}],!1,null,null,null);r.options.__file="src/admin/components/main-app.vue";s.default=r.exports}}]);